<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R style guide</title>
  <meta name="description" content="R style guide">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="R style guide" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R style guide" />
  
  
  

<meta name="author" content="">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  <link rel="shortcut icon" href="settings/dq-icon-or-rgb.svg" type="image/x-icon">
<link rel="prev" href="files.html">
<link rel="next" href="functions.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="settings/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<p style="margin-top: 0.2cm; margin-bottom: 0.1cm;">&nbsp; &nbsp; <img src="daqana-or-rgb.svg" width="180"> R style guide</p>

<li class="divider"></li>
<li><a href="index.html#section"></a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#lintr-and-styler"><i class="fa fa-check"></i>lintr and styler</a></li>
</ul></li>
<li class="part"><span><b>I Analyses</b></span></li>
<li class="chapter" data-level="1" data-path="files.html"><a href="files.html"><i class="fa fa-check"></i><b>1</b> Files</a><ul>
<li class="chapter" data-level="1.1" data-path="files.html"><a href="files.html#names"><i class="fa fa-check"></i><b>1.1</b> Names</a></li>
<li class="chapter" data-level="1.2" data-path="files.html"><a href="files.html#paths"><i class="fa fa-check"></i><b>1.2</b> Paths</a></li>
<li class="chapter" data-level="1.3" data-path="files.html"><a href="files.html#structure"><i class="fa fa-check"></i><b>1.3</b> Structure</a></li>
<li class="chapter" data-level="1.4" data-path="files.html"><a href="files.html#cleaning-up"><i class="fa fa-check"></i><b>1.4</b> Cleaning up</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Syntax.html"><a href="Syntax.html"><i class="fa fa-check"></i><b>2</b> Syntax</a><ul>
<li class="chapter" data-level="2.1" data-path="Syntax.html"><a href="Syntax.html#object-names"><i class="fa fa-check"></i><b>2.1</b> Object names</a></li>
<li class="chapter" data-level="2.2" data-path="Syntax.html"><a href="Syntax.html#spacing"><i class="fa fa-check"></i><b>2.2</b> Spacing</a></li>
<li class="chapter" data-level="2.3" data-path="Syntax.html"><a href="Syntax.html#Indenting"><i class="fa fa-check"></i><b>2.3</b> Indenting</a></li>
<li class="chapter" data-level="2.4" data-path="Syntax.html"><a href="Syntax.html#long-lines"><i class="fa fa-check"></i><b>2.4</b> Long lines</a></li>
<li class="chapter" data-level="2.5" data-path="Syntax.html"><a href="Syntax.html#assignment"><i class="fa fa-check"></i><b>2.5</b> Assignment</a></li>
<li class="chapter" data-level="2.6" data-path="Syntax.html"><a href="Syntax.html#semicolons"><i class="fa fa-check"></i><b>2.6</b> Semicolons</a></li>
<li class="chapter" data-level="2.7" data-path="Syntax.html"><a href="Syntax.html#quotes"><i class="fa fa-check"></i><b>2.7</b> Quotes</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>3</b> Functions</a><ul>
<li class="chapter" data-level="3.1" data-path="functions.html"><a href="functions.html#naming"><i class="fa fa-check"></i><b>3.1</b> Naming</a></li>
<li class="chapter" data-level="3.2" data-path="functions.html"><a href="functions.html#function-head-body"><i class="fa fa-check"></i><b>3.2</b> Head and body</a></li>
<li class="chapter" data-level="3.3" data-path="functions.html"><a href="functions.html#argument-names"><i class="fa fa-check"></i><b>3.3</b> Argument names</a></li>
<li class="chapter" data-level="3.4" data-path="functions.html"><a href="functions.html#return"><i class="fa fa-check"></i><b>3.4</b> <code>return()</code></a></li>
<li class="chapter" data-level="3.5" data-path="functions.html"><a href="functions.html#comments"><i class="fa fa-check"></i><b>3.5</b> Comments</a></li>
<li class="chapter" data-level="3.6" data-path="functions.html"><a href="functions.html#design"><i class="fa fa-check"></i><b>3.6</b> Design</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="pipes.html"><a href="pipes.html"><i class="fa fa-check"></i><b>4</b> Pipes</a><ul>
<li class="chapter" data-level="" data-path="pipes.html"><a href="pipes.html#please-note"><i class="fa fa-check"></i>Please note</a></li>
<li class="chapter" data-level="4.1" data-path="pipes.html"><a href="pipes.html#introduction"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="pipes.html"><a href="pipes.html#spacing-and-indenting"><i class="fa fa-check"></i><b>4.2</b> Spacing and indenting</a></li>
<li class="chapter" data-level="4.3" data-path="pipes.html"><a href="pipes.html#no-arguments"><i class="fa fa-check"></i><b>4.3</b> No arguments</a></li>
<li class="chapter" data-level="4.4" data-path="pipes.html"><a href="pipes.html#long-lines-1"><i class="fa fa-check"></i><b>4.4</b> Long lines</a></li>
<li class="chapter" data-level="4.5" data-path="pipes.html"><a href="pipes.html#assignment-1"><i class="fa fa-check"></i><b>4.5</b> Assignment</a></li>
</ul></li>
<li class="part"><span><b>II Packages</b></span></li>
<li class="chapter" data-level="5" data-path="help-pages.html"><a href="help-pages.html"><i class="fa fa-check"></i><b>5</b> Help Pages</a><ul>
<li class="chapter" data-level="5.1" data-path="help-pages.html"><a href="help-pages.html#introduction-1"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="help-pages.html"><a href="help-pages.html#title-and-description"><i class="fa fa-check"></i><b>5.2</b> Title and Description</a></li>
<li class="chapter" data-level="5.3" data-path="help-pages.html"><a href="help-pages.html#indention"><i class="fa fa-check"></i><b>5.3</b> Indention</a></li>
<li class="chapter" data-level="5.4" data-path="help-pages.html"><a href="help-pages.html#documenting-parameters"><i class="fa fa-check"></i><b>5.4</b> Documenting Parameters</a></li>
<li class="chapter" data-level="5.5" data-path="help-pages.html"><a href="help-pages.html#capitalization-and-full-stops"><i class="fa fa-check"></i><b>5.5</b> Capitalization and Full Stops</a></li>
<li class="chapter" data-level="5.6" data-path="help-pages.html"><a href="help-pages.html#reference"><i class="fa fa-check"></i><b>5.6</b> Reference</a></li>
<li class="chapter" data-level="5.7" data-path="help-pages.html"><a href="help-pages.html#line-break"><i class="fa fa-check"></i><b>5.7</b> Line Break</a></li>
<li class="chapter" data-level="5.8" data-path="help-pages.html"><a href="help-pages.html#code-font"><i class="fa fa-check"></i><b>5.8</b> Code Font</a></li>
<li class="chapter" data-level="5.9" data-path="help-pages.html"><a href="help-pages.html#internal-functions"><i class="fa fa-check"></i><b>5.9</b> Internal Functions</a></li>
<li class="chapter" data-level="5.10" data-path="help-pages.html"><a href="help-pages.html#deprecating-functions"><i class="fa fa-check"></i><b>5.10</b> Deprecating Functions</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="unit-tests.html"><a href="unit-tests.html"><i class="fa fa-check"></i><b>6</b> Unit Tests</a><ul>
<li class="chapter" data-level="6.1" data-path="unit-tests.html"><a href="unit-tests.html#introduction-2"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="unit-tests.html"><a href="unit-tests.html#file-names"><i class="fa fa-check"></i><b>6.2</b> File names</a></li>
<li class="chapter" data-level="6.3" data-path="unit-tests.html"><a href="unit-tests.html#structure-1"><i class="fa fa-check"></i><b>6.3</b> Structure</a></li>
<li class="chapter" data-level="6.4" data-path="unit-tests.html"><a href="unit-tests.html#context"><i class="fa fa-check"></i><b>6.4</b> Context</a></li>
<li class="chapter" data-level="6.5" data-path="unit-tests.html"><a href="unit-tests.html#property-test"><i class="fa fa-check"></i><b>6.5</b> Property test</a></li>
<li class="chapter" data-level="" data-path="unit-tests.html"><a href="unit-tests.html#lintr"><i class="fa fa-check"></i>lintr</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="error-messages.html"><a href="error-messages.html"><i class="fa fa-check"></i><b>7</b> Error messages</a><ul>
<li class="chapter" data-level="7.1" data-path="error-messages.html"><a href="error-messages.html#problem-statement"><i class="fa fa-check"></i><b>7.1</b> Problem statement</a></li>
<li class="chapter" data-level="7.2" data-path="error-messages.html"><a href="error-messages.html#error-location"><i class="fa fa-check"></i><b>7.2</b> Error location</a></li>
<li class="chapter" data-level="7.3" data-path="error-messages.html"><a href="error-messages.html#hints"><i class="fa fa-check"></i><b>7.3</b> Hints</a></li>
<li class="chapter" data-level="7.4" data-path="error-messages.html"><a href="error-messages.html#grammar"><i class="fa fa-check"></i><b>7.4</b> Grammar</a></li>
<li class="chapter" data-level="7.5" data-path="error-messages.html"><a href="error-messages.html#examples"><i class="fa fa-check"></i><b>7.5</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="news.html"><a href="news.html"><i class="fa fa-check"></i><b>8</b> News</a><ul>
<li class="chapter" data-level="8.1" data-path="news.html"><a href="news.html#news-bullets"><i class="fa fa-check"></i><b>8.1</b> News bullets</a><ul>
<li class="chapter" data-level="8.1.1" data-path="news.html"><a href="news.html#general-style"><i class="fa fa-check"></i><b>8.1.1</b> General style</a></li>
<li class="chapter" data-level="8.1.2" data-path="news.html"><a href="news.html#common-patterns"><i class="fa fa-check"></i><b>8.1.2</b> Common patterns</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="news.html"><a href="news.html#organisation"><i class="fa fa-check"></i><b>8.2</b> Organisation</a><ul>
<li class="chapter" data-level="8.2.1" data-path="news.html"><a href="news.html#breaking-changes"><i class="fa fa-check"></i><b>8.2.1</b> Breaking changes</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="news.html"><a href="news.html#blog-post"><i class="fa fa-check"></i><b>8.3</b> Blog post</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Built with bookdown</a></li>
<li><a href="https://github.com/tidyverse/style" target="blank">Based on the tidyverse R Style Guide</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R style guide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="Syntax" class="section level1">
<h1><span class="header-section-number">2</span> Syntax</h1>
<hr />
<div id="object-names" class="section level2">
<h2><span class="header-section-number">2.1</span> Object names</h2>
<blockquote>
<p>“There are only two hard things in Computer Science: cache invalidation and
naming things.”</p>
<p>— Phil Karlton</p>
</blockquote>
<p>Variable and function names should use only lowercase letters, numbers, and underscores (<code>_</code>).<br />
Use <code>_</code> to separate words within a name (<em>snake_case style</em>). Using a seperator like the underscore increases readability in contrast to <em>lowerCamelCase</em> or <em>UpperCamelCase</em>.</p>
<p>Base R uses dots in function names (<code>contrib.url()</code>) and class names
(<code>data.frame</code>), but it’s better to reserve dots exclusively for the S3 object system. In S3, methods are given the name <code>function.class</code>; if you also use <code>.</code> in function and class names you end up with confusing methods like <code>as.data.frame.data.frame()</code>.</p>
<p>Generally, variable names should be nouns and function names should be verbs.
Strive for names that are concise and meaningful (this is not easy!) and that are not too long.</p>
<div class="good">
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2">day_one</a>
<a class="sourceLine" id="cb16-3" data-line-number="3">day_<span class="dv">1</span></a></code></pre></div>
</div>
<div class="bad">
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2">first_day_of_the_month</a>
<a class="sourceLine" id="cb17-3" data-line-number="3">DayOne</a>
<a class="sourceLine" id="cb17-4" data-line-number="4">dayone</a>
<a class="sourceLine" id="cb17-5" data-line-number="5">day.one</a>
<a class="sourceLine" id="cb17-6" data-line-number="6">djm1</a></code></pre></div>
</div>
<ul>
<li>Check object names with <code>object_name_linter(style = &quot;snake_case&quot;)</code> and <code>object_length_linter(length = 20L)</code>.</li>
</ul>
<p>Where possible, avoid re-using names of common functions and variables. This
will cause confusion for the readers of your code.</p>
<div class="bad">
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2">T &lt;-<span class="st"> </span><span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb18-3" data-line-number="3">c &lt;-<span class="st"> </span><span class="dv">10</span></a>
<a class="sourceLine" id="cb18-4" data-line-number="4">mean &lt;-<span class="st"> </span><span class="cf">function</span>(x) <span class="kw">sum</span>(x)</a></code></pre></div>
</div>
<hr />
</div>
<div id="spacing" class="section level2">
<h2><span class="header-section-number">2.2</span> Spacing</h2>
<p>Put a space before and after all infix operators like <code>=</code>, <code>+</code>, <code>-</code>, <code>&lt;-</code>, <code>~</code> etc. Do without space around <code>^</code>, <code>/</code> and <code>*</code> if you feel it would increase the readability, following the principle of multiplication and division first, then addition and subtraction. Also cf. <a href="http://stat.ethz.ch/R-manual/R-patched/library/base/html/Syntax.html">operator precedence in R</a>.</p>
<p>Always put a space after a comma, and never before (just like in regular English).</p>
<div class="good">
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2">average &lt;-<span class="st"> </span><span class="kw">mean</span>(feet <span class="op">/</span><span class="st"> </span><span class="dv">12</span> <span class="op">+</span><span class="st"> </span>inches, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb19-3" data-line-number="3">average &lt;-<span class="st"> </span><span class="kw">mean</span>(feet<span class="op">/</span><span class="dv">12</span> <span class="op">+</span><span class="st"> </span>inches, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb19-4" data-line-number="4">x <span class="op">^</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb19-5" data-line-number="5"><span class="kw">sqrt</span>(x<span class="op">^</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span>y<span class="op">^</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb19-6" data-line-number="6">y <span class="op">~</span><span class="st"> </span>x</a></code></pre></div>
</div>
<div class="bad">
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb20-2" data-line-number="2">average&lt;-<span class="kw">mean</span>(feet<span class="op">/</span><span class="dv">12</span><span class="op">+</span>inches,<span class="dt">na.rm=</span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb20-3" data-line-number="3">y<span class="op">~</span>x</a></code></pre></div>
</div>
<ul>
<li>For the comma rule there is the <code>commas_linter</code>. The <code>infix_spaces_linter</code> strictly requires spaces around all infixes (also * /), thus we don’t use it.</li>
</ul>
<p>There’s another small exception to the spacing rule: don’t use spaces around <code>:</code>, <code>::</code>, and <code>:::</code>.</p>
<div class="good">
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb21-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb21-3" data-line-number="3">base<span class="op">::</span><span class="kw">get</span>()</a></code></pre></div>
</div>
<div class="bad">
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb22-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="dv">1</span> <span class="op">:</span><span class="st"> </span><span class="dv">10</span></a>
<a class="sourceLine" id="cb22-3" data-line-number="3">base <span class="op">::</span><span class="st"> </span><span class="kw">get</span>()</a></code></pre></div>
</div>
<p>Extra spacing (i.e., more than one space in a row) is ok if it improves
alignment of equal signs or assignments (<code>&lt;-</code>).</p>
<div class="good">
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb23-2" data-line-number="2"><span class="kw">list</span>(</a>
<a class="sourceLine" id="cb23-3" data-line-number="3">  <span class="dt">total =</span> a <span class="op">+</span><span class="st"> </span>b <span class="op">+</span><span class="st"> </span>c,</a>
<a class="sourceLine" id="cb23-4" data-line-number="4">  <span class="dt">mean =</span> (a <span class="op">+</span><span class="st"> </span>b <span class="op">+</span><span class="st"> </span>c) <span class="op">/</span><span class="st"> </span>n</a>
<a class="sourceLine" id="cb23-5" data-line-number="5">)</a>
<a class="sourceLine" id="cb23-6" data-line-number="6"></a>
<a class="sourceLine" id="cb23-7" data-line-number="7"><span class="kw">list</span>(</a>
<a class="sourceLine" id="cb23-8" data-line-number="8">  <span class="dt">total =</span>  a <span class="op">+</span><span class="st"> </span>b <span class="op">+</span><span class="st"> </span>c,</a>
<a class="sourceLine" id="cb23-9" data-line-number="9">  <span class="dt">mean  =</span> (a <span class="op">+</span><span class="st"> </span>b <span class="op">+</span><span class="st"> </span>c) <span class="op">/</span><span class="st"> </span>n</a>
<a class="sourceLine" id="cb23-10" data-line-number="10">)</a></code></pre></div>
</div>
<p>Place a space before <code>(</code>, but not when it’s part of a function call.</p>
<div class="good">
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb24-2" data-line-number="2"><span class="cf">if</span> (debug) { <span class="kw">show</span>(x) }</a>
<a class="sourceLine" id="cb24-3" data-line-number="3"><span class="kw">plot</span>(x, y)</a></code></pre></div>
</div>
<div class="bad">
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb25-2" data-line-number="2"><span class="cf">if</span>(debug)<span class="kw">show</span>(x)</a>
<a class="sourceLine" id="cb25-3" data-line-number="3"><span class="kw">plot</span> (x, y)</a></code></pre></div>
</div>
<ul>
<li>Check these spacing rules with <code>spaces_left_parentheses_linter</code> and <code>function_left_parentheses_linter</code>.</li>
</ul>
<p>Do not place spaces around code in parentheses or square brackets (unless
there’s a comma, in which case see above). For curly braces see section <a href="Syntax.html#Indenting">2.3</a> below.</p>
<div class="good">
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb26-2" data-line-number="2"><span class="cf">if</span> (debug) { </a>
<a class="sourceLine" id="cb26-3" data-line-number="3">  <span class="kw">do</span>(x) </a>
<a class="sourceLine" id="cb26-4" data-line-number="4">}</a>
<a class="sourceLine" id="cb26-5" data-line-number="5"></a>
<a class="sourceLine" id="cb26-6" data-line-number="6">diamonds[<span class="dv">5</span>, ]</a></code></pre></div>
</div>
<div class="bad">
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb27-2" data-line-number="2"><span class="cf">if</span> ( debug ) <span class="kw">do</span>(x)  <span class="co"># No spaces around debug</span></a>
<a class="sourceLine" id="cb27-3" data-line-number="3">x[<span class="dv">1</span>,]   <span class="co"># Needs a space after the comma</span></a>
<a class="sourceLine" id="cb27-4" data-line-number="4">x[<span class="dv">1</span> ,]  <span class="co"># Space goes after comma not before</span></a></code></pre></div>
</div>
<ul>
<li>This can be checked with the <code>spaces_inside_linter</code>.</li>
</ul>
<hr />
</div>
<div id="Indenting" class="section level2">
<h2><span class="header-section-number">2.3</span> Indenting</h2>
<p>Curly braces, <code>{}</code>, define the most important hierarchy of R code. To make
this hierarchy easy to see, always indent the code inside <code>{}</code> by <strong>two</strong>
spaces. A symmetrical arrangement helps with finding related braces.<br />
A <code>{</code> should never go on its own line and should always be followed by a new
line.<br />
A <code>}</code> should always go on its own line, unless it’s followed by <code>else</code>
or <code>)</code>.</p>
<ul>
<li>Check your code for this behaviour with <code>open_curly_linter</code> and <code>closed_curly_linter</code>.
<div class = "good">
</li>
</ul>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb28-2" data-line-number="2"><span class="cf">if</span> (y <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span> <span class="op">&amp;&amp;</span><span class="st"> </span>debug) {</a>
<a class="sourceLine" id="cb28-3" data-line-number="3">  <span class="kw">message</span>(<span class="st">&quot;y is negative&quot;</span>)</a>
<a class="sourceLine" id="cb28-4" data-line-number="4">}</a>
<a class="sourceLine" id="cb28-5" data-line-number="5"></a>
<a class="sourceLine" id="cb28-6" data-line-number="6"><span class="cf">if</span> (x <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>) {</a>
<a class="sourceLine" id="cb28-7" data-line-number="7">  <span class="kw">message</span>(<span class="st">&quot;x is positive&quot;</span>)</a>
<a class="sourceLine" id="cb28-8" data-line-number="8">} <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb28-9" data-line-number="9">  <span class="kw">message</span>(<span class="st">&quot;x is negative or zero&quot;</span>)</a>
<a class="sourceLine" id="cb28-10" data-line-number="10">}</a>
<a class="sourceLine" id="cb28-11" data-line-number="11"></a>
<a class="sourceLine" id="cb28-12" data-line-number="12">testthat<span class="op">::</span><span class="kw">test_that</span>(<span class="st">&quot;call1 should return an ordered factor&quot;</span>, {</a>
<a class="sourceLine" id="cb28-13" data-line-number="13">  testthat<span class="op">::</span><span class="kw">expect_s3_class</span>(<span class="kw">call1</span>(x, y), <span class="kw">c</span>(<span class="st">&quot;factor&quot;</span>, <span class="st">&quot;ordered&quot;</span>))</a>
<a class="sourceLine" id="cb28-14" data-line-number="14">})</a></code></pre></div>
</div>
<div class="bad">
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb29-2" data-line-number="2"><span class="cf">if</span> (y <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span> <span class="op">&amp;&amp;</span><span class="st"> </span>debug)</a>
<a class="sourceLine" id="cb29-3" data-line-number="3"><span class="kw">message</span>(<span class="st">&quot;Y is negative&quot;</span>)</a>
<a class="sourceLine" id="cb29-4" data-line-number="4"></a>
<a class="sourceLine" id="cb29-5" data-line-number="5"><span class="cf">if</span> (y <span class="op">==</span><span class="st"> </span><span class="dv">0</span>)</a>
<a class="sourceLine" id="cb29-6" data-line-number="6">{</a>
<a class="sourceLine" id="cb29-7" data-line-number="7">    <span class="cf">if</span> (x <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>) {</a>
<a class="sourceLine" id="cb29-8" data-line-number="8">      <span class="kw">log</span>(x)</a>
<a class="sourceLine" id="cb29-9" data-line-number="9">    }<span class="cf">else</span>{</a>
<a class="sourceLine" id="cb29-10" data-line-number="10">  <span class="kw">message</span>(<span class="st">&quot;x is negative or zero&quot;</span>)</a>
<a class="sourceLine" id="cb29-11" data-line-number="11">    }</a>
<a class="sourceLine" id="cb29-12" data-line-number="12">} <span class="cf">else</span> { y<span class="op">^</span><span class="st"> </span>x }</a></code></pre></div>
</div>
<p>Exception: For very short <code>if (x) { y }</code> statements that fit on one line <code>{}</code>
can go in the same line and the code inside should be surrounded by single spaces.</p>
<div class="good">
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb30-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="cf">if</span> (y <span class="op">&lt;</span><span class="st"> </span><span class="dv">20</span>) { <span class="st">&quot;Too low&quot;</span> } <span class="cf">else</span> { <span class="st">&quot;Too high&quot;</span> }</a>
<a class="sourceLine" id="cb30-3" data-line-number="3"></a>
<a class="sourceLine" id="cb30-4" data-line-number="4"><span class="cf">if</span> (y <span class="op">!=</span><span class="st"> </span><span class="dv">0</span>) { </a>
<a class="sourceLine" id="cb30-5" data-line-number="5">  y <span class="op">^</span><span class="st"> </span>x </a>
<a class="sourceLine" id="cb30-6" data-line-number="6">} <span class="cf">else</span> { </a>
<a class="sourceLine" id="cb30-7" data-line-number="7">  <span class="cf">if</span> (x <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>) { <span class="kw">log</span>(x) } <span class="cf">else</span> { <span class="kw">message</span>(<span class="st">&quot;x is negative or zero&quot;</span>) }</a>
<a class="sourceLine" id="cb30-8" data-line-number="8">}</a>
<a class="sourceLine" id="cb30-9" data-line-number="9"></a>
<a class="sourceLine" id="cb30-10" data-line-number="10"><span class="cf">if</span> (y <span class="op">!=</span><span class="st"> </span><span class="dv">0</span>) { y <span class="op">^</span><span class="st"> </span>x } <span class="cf">else</span> { </a>
<a class="sourceLine" id="cb30-11" data-line-number="11">  <span class="cf">if</span> (x <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>) { <span class="kw">log</span>(x) } <span class="cf">else</span> { <span class="kw">message</span>(<span class="st">&quot;x is negative or zero&quot;</span>) }</a>
<a class="sourceLine" id="cb30-12" data-line-number="12">}</a></code></pre></div>
</div>
<ul>
<li>Add argument <code>allow_single_line = TRUE</code> to the above linters to allow for the short statement exception.</li>
</ul>
<p>Because the closing brackets belong to the same level of hierarchy as the opening brackets they should <strong>not</strong> be indented. (Note that in RStudio auto-indention does not behave consistently. As a guide one can activate the <em>Show indent guides</em> checkbox via <em>Global Options &gt; Code &gt; Display</em>).<br />
The above holds both for curly and multi-line round brackets (e.g. in function calls or definitions as in <a href="functions.html#function-head-body">3.2</a>).</p>
<p>Always use spaces for indentation, never use tabs. The difficulty with tabs is that they are not defined distinctly in terms of
columns or spaces (a space is always one column), i.e. results would differ
depending on the environment.</p>
<ul>
<li>When using the RStudio IDE check the <em>Insert spaces for tab</em> checkbox and specify to <em>Tab with 2</em> in the <em>Global Options &gt; Code &gt; Editing</em> tab. <code>no_tab_linter</code> also searches for tabs.</li>
</ul>
<hr />
</div>
<div id="long-lines" class="section level2">
<h2><span class="header-section-number">2.4</span> Long lines</h2>
<p>Strive to limit your code to <strong>80</strong> characters per line. This fits comfortably
on a printed page with a reasonably sized font. If you find yourself running out of room, this is a good indication that you should encapsulate some of the work in a separate function.</p>
<ul>
<li>Lint long lines with <code>line_length_linter(length = 80)</code>.</li>
</ul>
<p>If a function call is too long to fit on a single line, use one line each for
the function name, each argument, and the closing <code>)</code>. This makes the code
easier to read and to change later.</p>
<div class="good">
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="kw">do_something_very_complicated</span>(</a>
<a class="sourceLine" id="cb31-3" data-line-number="3">  <span class="dt">something =</span> <span class="st">&quot;that&quot;</span>,</a>
<a class="sourceLine" id="cb31-4" data-line-number="4">  <span class="dt">requires =</span> many,</a>
<a class="sourceLine" id="cb31-5" data-line-number="5">  <span class="dt">arguments =</span> <span class="st">&quot;some of which may be long&quot;</span></a>
<a class="sourceLine" id="cb31-6" data-line-number="6">)</a></code></pre></div>
</div>
<div class="bad">
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb32-2" data-line-number="2"><span class="kw">do_something_very_complicated</span>(<span class="st">&quot;that&quot;</span>, requires, many, arguments,</a>
<a class="sourceLine" id="cb32-3" data-line-number="3">                              <span class="st">&quot;some of which may be long&quot;</span></a>
<a class="sourceLine" id="cb32-4" data-line-number="4">                              )</a></code></pre></div>
</div>
<p>You may also place several arguments on the same line if they are closely
related to each other, e.g., strings in calls to <code>paste()</code> or <code>stop()</code>. When
building strings, where possible match one line of code to one line of output.</p>
<div class="good">
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb33-2" data-line-number="2"><span class="kw">paste0</span>(</a>
<a class="sourceLine" id="cb33-3" data-line-number="3">  <span class="st">&quot;Requirement: &quot;</span>, requires, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>,</a>
<a class="sourceLine" id="cb33-4" data-line-number="4">  <span class="st">&quot;Result: &quot;</span>, result, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb33-5" data-line-number="5">)</a></code></pre></div>
</div>
<div class="bad">
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb34-2" data-line-number="2"><span class="kw">paste0</span>(</a>
<a class="sourceLine" id="cb34-3" data-line-number="3">  <span class="st">&quot;Requirement: &quot;</span>, requires,</a>
<a class="sourceLine" id="cb34-4" data-line-number="4">  <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="st">&quot;Result: &quot;</span>,</a>
<a class="sourceLine" id="cb34-5" data-line-number="5">  result, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</a></code></pre></div>
</div>
<p>Whenever you have to write long strings that won’t fit into one line, consider splitting them into smaller parts and joining those parts using <code>paste()</code>. This is not entirely elegant but conformes with the 80 char rule and ensures readability. For file paths use <code>file.path()</code>.</p>
<hr />
</div>
<div id="assignment" class="section level2">
<h2><span class="header-section-number">2.5</span> Assignment</h2>
<p>Use <code>&lt;-</code>, not <code>=</code>, for assignment.</p>
<div class="good">
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb35-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="dv">5</span></a></code></pre></div>
</div>
<div class="bad">
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb36-2" data-line-number="2">x =<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb36-3" data-line-number="3"><span class="dv">5</span> -&gt;<span class="st"> </span>x </a></code></pre></div>
</div>
<ul>
<li>Lint <code>=</code> assignments with <code>assignment_linter</code>.</li>
</ul>
<hr />
</div>
<div id="semicolons" class="section level2">
<h2><span class="header-section-number">2.6</span> Semicolons</h2>
<p>Don’t put <code>;</code> at the end of a line, and don’t use <code>;</code> to put multiple commands
on one line.</p>
<div class="bad">
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb37-2" data-line-number="2"><span class="kw">summary</span>(data);</a>
<a class="sourceLine" id="cb37-3" data-line-number="3"></a>
<a class="sourceLine" id="cb37-4" data-line-number="4">x &lt;-<span class="st"> </span><span class="dv">5</span>; y &lt;-<span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>x</a></code></pre></div>
</div>
<div class="good">
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb38-2" data-line-number="2"><span class="kw">summary</span>(data)</a>
<a class="sourceLine" id="cb38-3" data-line-number="3"></a>
<a class="sourceLine" id="cb38-4" data-line-number="4">x &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb38-5" data-line-number="5">y &lt;-<span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>x</a></code></pre></div>
</div>
<ul>
<li>Lint semicolons with <code>semicolon_terminator_linter(semicolon = c(&quot;compound&quot;, &quot;trailing&quot;))</code>.</li>
</ul>
<hr />
</div>
<div id="quotes" class="section level2">
<h2><span class="header-section-number">2.7</span> Quotes</h2>
<p>Use <code>&quot;</code>, not <code>'</code>, for quoting text. The only exception is when the text already
contains double quotes and no single quotes. (This is really an arbitrary convention. Anyhow, please be consistent and stick to it.)</p>
<div class="good">
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb39-2" data-line-number="2"><span class="st">&quot;Text&quot;</span></a>
<a class="sourceLine" id="cb39-3" data-line-number="3"><span class="st">&#39;Text with &quot;quotes&quot;&#39;</span></a>
<a class="sourceLine" id="cb39-4" data-line-number="4"><span class="st">&#39;&lt;a href=&quot;http://style.tidyverse.org&quot;&gt;A link&lt;/a&gt;&#39;</span></a></code></pre></div>
<pre><code>## [1] &quot;Text&quot;
## [1] &quot;Text with \&quot;quotes\&quot;&quot;
## [1] &quot;&lt;a href=\&quot;http://style.tidyverse.org\&quot;&gt;A link&lt;/a&gt;&quot;</code></pre>
</div>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" data-line-number="1"><span class="kw">cat</span>(<span class="st">&#39;Text with &quot;quotes&quot;&#39;</span>, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</a>
<a class="sourceLine" id="cb41-2" data-line-number="2"><span class="kw">cat</span>(<span class="st">&#39;&lt;a href=&quot;http://style.tidyverse.org&quot;&gt;A link&lt;/a&gt;&#39;</span>)</a></code></pre></div>
<pre><code>## Text with &quot;quotes&quot; 
## &lt;a href=&quot;http://style.tidyverse.org&quot;&gt;A link&lt;/a&gt;</code></pre>
<div class="bad">
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" data-line-number="1"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb43-2" data-line-number="2"><span class="st">&#39;Text&#39;</span></a>
<a class="sourceLine" id="cb43-3" data-line-number="3"><span class="st">&#39;Text with &quot;double&quot; and </span><span class="ch">\&#39;</span><span class="st">single</span><span class="ch">\&#39;</span><span class="st"> quotes&#39;</span></a></code></pre></div>
<pre><code>## [1] &quot;Text&quot;
## [1] &quot;Text with \&quot;double\&quot; and &#39;single&#39; quotes&quot;</code></pre>
</div>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" data-line-number="1"><span class="kw">cat</span>(<span class="st">&#39;Text with &quot;double&quot; and </span><span class="ch">\&#39;</span><span class="st">single</span><span class="ch">\&#39;</span><span class="st"> quotes&#39;</span>)</a></code></pre></div>
<pre><code>## Text with &quot;double&quot; and &#39;single&#39; quotes</code></pre>
<ul>
<li>Lint single quotes with <code>single_quotes_linter</code>.</li>
</ul>
<hr />
<div>
<p><!-- somehow an extra closing div got inserted to the html output which resulted in missing navigation symbols (back and forth arrows)... adding the opening div statement here is a hack to solve this problem --></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="files.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="functions.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
